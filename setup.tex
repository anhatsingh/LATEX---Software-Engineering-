%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER and FOOTER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\headrulewidth}{0.2pt}
\fancyfoot{}
\fancyhead{}
\fancypagestyle{plain}{
    \fancyhead[L]{\nouppercase{\leftmark}}
    \fancyhead[R]{\newline Page \thepage\ of \pageref*{LastPage}}    
}

\fancypagestyle{toc}{
    \fancyhead[L]{CONTENTS}
    \fancyhead[R]{\newline \thepage}    
}
\pagestyle{plain}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADINGS FORMATTING
% {left}{before}{after}[right]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\titlespacing{\section}{0pt}{1em}{0.5em}
\titlespacing{\subsection}{0pt}{1.5em}{0.5em}
\titlespacing{\subsubsection}{0pt}{1.5em}{0.15em}
\titleformat*{\subsubsection}{\itshape \bfseries}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TABLE CAPTION SETTINGS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareCaptionFont{customCaptionFont}{\mdseries\itshape}
\captionsetup[table]{  
  justification=centering,
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SOME CUSTOM COMMANDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% To make lists tighter
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% Horizontal Rule
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

% Custom subsubsection heading that is also added to index
\newcommand{\mysubsubsection}[1]{%
    \subsubsection{#1}%
    % \addcontentsline{toc}{subsubsection}{#1}%
    \markright{#1}%
}

% User stories for SE Project
\newcommand{\userstory}[3]{
    \textbf{As #1},\\
    \textbf{I want} #2,\\
    \textbf{So that} #3.
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COLOR BOXES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{cbframecol}{RGB}{1, 15, 137}
\definecolor{ipboxcol}{RGB}{238,2,26}
\definecolor{opboxcol}{RGB}{26, 238, 2}

\makeatletter
\tcbset{
    myhbox/.style 2 args={%
        enhanced, 
        %breakable,
        colback=white,
        colframe=cbframecol,%blue!30!black,
        %attach boxed title to top left={yshift*=-\tcboxedtitleheight}, 
        title={#2},
        fonttitle=\bfseries\large\centering,
        boxed title size=title,
        boxed title style={%
            sharp corners, 
            rounded corners=northwest, 
            colback=tcbcolframe, 
            boxrule=0pt,
        },
        underlay boxed title={%
            \path[fill=tcbcolframe] (title.south west)--(title.south east) 
                to[out=0, in=180] ([xshift=5mm]title.east)--
                (title.center-|frame.east)
                [rounded corners=\kvtcb@arc] |- 
                (frame.north) -| cycle; 
        },
        #1
    },
    base/.style={%
    arc=0mm, 
    bottomtitle=0.5mm,
    boxrule=0mm,
    colbacktitle=black!10!white, 
    coltitle=black, 
    fonttitle=\bfseries, 
    left=2.5mm,
    leftrule=1mm,
    right=3.5mm,
    title={#1},
    toptitle=0.75mm, 
  },
}   
\makeatother

\newtcolorbox{subbox}[1]{
  colframe=black!30!white,
  base={#1}
}

\newtcolorbox{myhbox}[2][]{%
    myhbox={#1}{#2}
}


\newtcolorbox{codeblock}[1]{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=6mm,yshift=-3mm},
    colback=white,
    left=2mm,
    colframe=lightgray,
    colbacktitle=lightgray,
    title={#1},
    fonttitle=\bfseries\color{white},
    boxed title style={size=small,colframe=lightgray,sharp corners},
    sharp corners,
}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\definecolor{lightgreen}{rgb}{0.56, 0.93, 0.56}
\definecolor{moonstoneblue}{rgb}{0.45, 0.66, 0.76}

\newtcolorbox{ipblock}[1]{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=6mm,yshift=-3mm},
    colback=ipboxcol!5,
    left=2mm,
    colframe=ipboxcol,
    colbacktitle=ipboxcol,
    title={#1},
    fonttitle=\bfseries\color{white},
    boxed title style={size=small,colframe=ipboxcol,sharp corners},
    %sharp corners,
}

\newtcolorbox{opblock}[1]{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=6mm,yshift=-3mm},
    colback=opboxcol!5,
    left=2mm,
    colframe=opboxcol,
    colbacktitle=opboxcol,
    title={#1},
    fonttitle=\bfseries\color{black},
    boxed title style={size=small,colframe=opboxcol,sharp corners},
    %sharp corners,
}

\lstset{style=mystyle}

\definecolor{successgreen}{RGB}{75,181,67}
\definecolor{Green}{RGB}{0, 166, 79}

\newcommand{\tcendpoint}[1]{
\addtocounter{subsection}{1}
\addcontentsline{toc}{subsection}{\protect\numberline{\thesubsection}A test case for: \href{http://localhost/api/v1#1}{http://localhost/api/v1#1}}
\href{http://localhost/api/v1#1}{http://localhost/api/v1#1}}
\newcommand{\eptype}[1]{#1}
\newcommand{\opstatus}[1]{#1}
\newcommand{\tcstatus}[1]{\IfSubStr{#1}{PASSED}{\colorbox{Green}{PASSED}}{\color{red} FAILED}}
\newenvironment{testcase}[2]{\begin{myhbox}{Test Case #1}}
{\end{myhbox}}